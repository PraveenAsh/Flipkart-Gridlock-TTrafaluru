<html>
<head>
<title>ADMIN</title>
<script type="text/javascript" src="http://static.fusioncharts.com/code/latest/fusioncharts.js"></script>
<script type="text/javascript" src="http://static.fusioncharts.com/code/latest/themes/fusioncharts.theme.fint.js?cacheBust=56"></script>
<script type="text/javascript">
  FusionCharts.ready(function(){
    var fusioncharts = new FusionCharts({
    type: 'dragarea',
    renderAt: 'chart-container',
    width: '500',
    height: '350',
    dataFormat: 'json',
    dataSource: {
        "chart": {
            "caption": "Traffic analysis",
            "subCaption": "Draggable control for signal timing",
            "subCaptionFontSize": "12",
            "xAxisName": "Time advancing 6:30 am",
            "yAxisName": "Signal Duration",
            "theme": "fint"
        },
        "categories": [{
            "category": [{
                "label": "7:00"
            }, {
                "label": "7:30 am"
            }, {
                "label": "8:00 am"
            }, {
                "label": "8:30 am"
			}, {
                "label": "9:00 am"
            }, {
                "label": "9:30 am"
            }, {
                "label": "10:00 am"
            }]
        }],
        "dataset": [{
            "seriesname": "Monday",
            "valuePosition": "ABOVE",
            "allowDrag": "0",
            "data": [{
                "allowDrag": "1",
                "value": "2"
            }, {
                "allowDrag": "1",
                "value": "3",
                "dashed": "1"
            }, {
                "value": "4",
                "allowDrag": "1",
                "dashed": "1"
            }, {
                "value": "5",
                "allowDrag": "1",
                "tooltext": "Predicted traffic"
				}, {
                "allowDrag": "1",
                "value": "3",
                "dashed": "1"
            }, {
                "value": "4",
                "allowDrag": "1",
                "dashed": "1"
            }, {
                "value": "5",
                "allowDrag": "1",
                "tooltext": "Predicted traffic"
            }]
        }, {
            "seriesname": "Tuesday",
            "allowDrag": "0",
            "data": [{
              "allowDrag": "1",
                "value": "6"
            }, {
                "allowDrag": "1",
				"value": "8",
                "dashed": "1"
            }, {
                "value": "10",
                "allowDrag": "1",
                "dashed": "1"}, {
                "allowDrag": "1",
                "value": "3",
                "dashed": "1"
            }, {
                "value": "4",
                "allowDrag": "1",
                "dashed": "1"
            }, {
                "value": "5",
                "allowDrag": "1",
                "tooltext": "Predicted traffic"
            }, {
                "value": "12",
                "allowDrag": "1",
                "tooltext": "Predicted traffic"
            }]
        }]
    },
    events: {
        'beforeRender': function(event, args) {
            var tableCont = document.createElement('div'),
                strHTML = "",
                thStyle = "background-color: #fece2f;color: #ffffff;border: 1px solid #000;padding: 10px 5px;min-width: 70px;text-align: center;",
                tdStyleApple = "border: 1px solid #000;color: #008ee4;padding: 10px 5px;min-width: 70px;text-align: center;",
                tdStyleSamsung = "border: 1px solid #000;color: #6baa01;padding: 10px 5px;min-width: 70px;text-align: center;",
                rowHeaderApple = " background-color: #008ee4;color: #fff; padding: 10px 5px;",
                rowHeaderSamsung = " background-color: #6baa01;color: #fff; padding: 10px 5px;";
            tableContsetAttribute('id', 'tableCont-2');
            tableContsetAttribute('style', 'padding-left: 10px; width: 470px;');;
            strHTML = "<table style='margin: 25px auto;border-collapse: collapse;border: 1px solid;border-bottom: 2px solid;'><tr><td style='border-top: 1px solid #fff; border-left: 1px solid #fff;'></td><th style='" + thStyle + "'>Q1</th><th style='" + thStyle + "'>Q2</th><th style='" + thStyle + "'>Q3(E)</th><th style='" + thStyle + "'>Q4(E)</th></tr><tr><td style='" + rowHeaderApple + "'>Apple</td><td id='tbl2-1-1' style='" + tdStyleApple + "'>1200</td><td id='tbl2-1-2' style='" + tdStyleApple + "'>1500</td><td id='tbl2-1-3' style='" + tdStyleApple + "'>1300</td><td id='tbl2-1-4' style='" + tdStyleApple + "'>900</td></tr><tr><td style='" + rowHeaderSamsung + "'>Samsung</td><td id='tbl2-2-1' style='" + tdStyleSamsung + "'>600</td><td id='tbl2-2-2' style='" + tdStyleSamsung + "'>850</td><td id='tbl2-2-3' style='" + tdStyleSamsung + "'>1000</td><td id='tbl2-2-4' style='" + tdStyleSamsung + "'>1200</td></tr></table><p align = 'center'/> (E) indicates Estimated";
            tableCont.innerHTML = strHTML;
            args.container.parentNode.insertBefore(tableCont, args.container.nextSibling);
        },
        'dataplotdragend': function(evt, arg) {
            var dsIndx = arg && arg.datasetIndex,
                dtIndx = arg && arg.dataIndex,
                val = arg && parseInt(arg.endValue, 10);
            document.getElementById('tbl2-' + dsIndx + '-' + dtIndx).innerHTML = val;

        },
        'datarestored': function(evtObj) {
            var ds1Values = ["1200", "1500", "1300", "900","","","",,,,,,,,,,,],
                ds2Values = ["600", "850", "1000", "1200","","","",,,,,,,,,,],
                update = function(arr, rowNum) {
                    var i = 0,
                        arrLen = arr.length;

                    for (i; i < arrLen; i += 1) {
                        val = arr[i];
                        document.getElementById('tbl2-' + rowNum + '-' + (i + 1)).innerHTML = val;
                    }
                };
            update(ds1Values, 1);
            update(ds2Values, 2);
        }
    }
}
);
    fusioncharts.render();
});
</script>
</head>
<body>
  <div id="chart-container">FusionCharts XT will load here!</div>
</body>
</html>